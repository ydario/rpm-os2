<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>rpm: rpmmacro.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2-20100208 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>rpmmacro.h</h1><a href="rpmmacro_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _H_MACRO_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _H_MACRO_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;stddef.h&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;rpm/rpmutil.h&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;rpm/rpmfileutil.h&gt;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00016"></a>00016 <span class="preprocessor">#endif</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a><a class="code" href="rpmmacro_8h.html#a3f04d009ed63bf4faabaa61d49d06033">00018</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>rpmMacroEntry_s * <a class="code" href="rpmmacro_8h.html#a3f04d009ed63bf4faabaa61d49d06033">rpmMacroEntry</a>;
<a name="l00019"></a>00019 
<a name="l00020"></a><a class="code" href="rpmmacro_8h.html#a42444931df97263be677f8ae4018fd4f">00020</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>rpmMacroContext_s * <a class="code" href="rpmmacro_8h.html#a42444931df97263be677f8ae4018fd4f">rpmMacroContext</a>;
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="keyword">extern</span> rpmMacroContext <a class="code" href="rpmmacro_8h.html#ae294c20d7439075dcf2a6494c6655691">rpmGlobalMacroContext</a>;
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">extern</span> rpmMacroContext <a class="code" href="rpmmacro_8h.html#a9dfbb9c2e90f2045f33d144811cf6c70">rpmCLIMacroContext</a>;
<a name="l00025"></a>00025 
<a name="l00031"></a>00031 <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="group__rpmrc.html#gae63ceb25d4146b91751ccf857f67f654" title="List of macro files to read when configuring rpm.">macrofiles</a>;
<a name="l00032"></a>00032 
<a name="l00036"></a><a class="code" href="rpmmacro_8h.html#adb891202f87c42f9d3f50015ecee86e2">00036</a> <span class="preprocessor">#define RMIL_DEFAULT    -15</span>
<a name="l00037"></a><a class="code" href="rpmmacro_8h.html#ad2c1e0c96c6c4b3fa1c8f4ff1f53b679">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define RMIL_MACROFILES -13</span>
<a name="l00038"></a><a class="code" href="rpmmacro_8h.html#a8aac80ead9d77f96f029a3fad2d40946">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define RMIL_RPMRC      -11</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span>
<a name="l00040"></a><a class="code" href="rpmmacro_8h.html#a88dd84061eeafe42c0d914d91003fdcc">00040</a> <span class="preprocessor">#define RMIL_CMDLINE    -7</span>
<a name="l00041"></a><a class="code" href="rpmmacro_8h.html#a6b8871ea4414512f9d8d35638eb9d683">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define RMIL_TARBALL    -5</span>
<a name="l00042"></a><a class="code" href="rpmmacro_8h.html#ada57d56376236d87b6a9256eb1480202">00042</a> <span class="preprocessor"></span><span class="preprocessor">#define RMIL_SPEC       -3</span>
<a name="l00043"></a><a class="code" href="rpmmacro_8h.html#a7fac977574e79d841cd7cf01136599be">00043</a> <span class="preprocessor"></span><span class="preprocessor">#define RMIL_OLDSPEC    -1</span>
<a name="l00044"></a><a class="code" href="rpmmacro_8h.html#af7bedcbe4b1c8588ff32277a1ba4601d">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define RMIL_GLOBAL     0</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="keywordtype">void</span>    <a class="code" href="group__rpmmacro.html#gad1ffe414864da5201b8968f3acf148c5" title="Print macros to file stream.">rpmDumpMacroTable</a>       (rpmMacroContext mc,
<a name="l00052"></a>00052                                         FILE * fp);
<a name="l00053"></a>00053 
<a name="l00064"></a>00064 <span class="keywordtype">int</span>     <a class="code" href="group__rpmmacro.html#ga4bf96cf2d6c9d0375b95d852ad311f75" title="Expand macro into buffer.">expandMacros</a>    (<span class="keywordtype">void</span> * spec, rpmMacroContext mc,
<a name="l00065"></a>00065                                 <span class="keywordtype">char</span> * sbuf,
<a name="l00066"></a>00066                                 <span class="keywordtype">size_t</span> slen);
<a name="l00067"></a>00067 
<a name="l00077"></a>00077 <span class="keywordtype">void</span>    <a class="code" href="group__rpmmacro.html#gaa4e9d6d8d215046ee21acb156c659efe" title="Add macro to context.">addMacro</a>        (rpmMacroContext mc, <span class="keyword">const</span> <span class="keywordtype">char</span> * n,
<a name="l00078"></a>00078                                 <span class="keyword">const</span> <span class="keywordtype">char</span> * o,
<a name="l00079"></a>00079                                 <span class="keyword">const</span> <span class="keywordtype">char</span> * b, <span class="keywordtype">int</span> level);
<a name="l00080"></a>00080 
<a name="l00086"></a>00086 <span class="keywordtype">void</span>    <a class="code" href="group__rpmmacro.html#ga6365bacb2f43539de94cd6c275968311" title="Delete macro from context.">delMacro</a>        (rpmMacroContext mc, <span class="keyword">const</span> <span class="keywordtype">char</span> * n);
<a name="l00087"></a>00087 
<a name="l00095"></a>00095 <span class="keywordtype">int</span>     <a class="code" href="group__rpmmacro.html#ga811c3748fcef0d8b5f1091c51efda080" title="Define macro in context.">rpmDefineMacro</a>  (rpmMacroContext mc, <span class="keyword">const</span> <span class="keywordtype">char</span> * macro,
<a name="l00096"></a>00096                                 <span class="keywordtype">int</span> level);
<a name="l00097"></a>00097 
<a name="l00103"></a>00103 <span class="keywordtype">void</span>    <a class="code" href="group__rpmmacro.html#ga4ba021b6c8e9b12151371c16d4437ece" title="Load macros from specific context into global context.">rpmLoadMacros</a>   (rpmMacroContext mc, <span class="keywordtype">int</span> level);
<a name="l00104"></a>00104 
<a name="l00110"></a>00110 <span class="keywordtype">int</span>     <a class="code" href="group__rpmmacro.html#ga3ce8dd8c70682ee4af3fbb62f4ff4f5b" title="Load macro context from a macro file.">rpmLoadMacroFile</a>(rpmMacroContext mc, <span class="keyword">const</span> <span class="keywordtype">char</span> * fn);
<a name="l00111"></a>00111 
<a name="l00117"></a>00117 <span class="keywordtype">void</span>    <a class="code" href="group__rpmmacro.html#ga7a5fc39354bf88cbb61cb49a140661a4" title="Initialize macro context from set of macrofile(s).">rpmInitMacros</a>   (rpmMacroContext mc, <span class="keyword">const</span> <span class="keywordtype">char</span> * macrofiles);
<a name="l00118"></a>00118 
<a name="l00123"></a>00123 <span class="keywordtype">void</span>    <a class="code" href="group__rpmmacro.html#ga1a83ba3c147a4005c80485cc2161bf3b" title="Destroy macro context.">rpmFreeMacros</a>   (rpmMacroContext mc);
<a name="l00124"></a>00124 
<a name="l00130"></a>00130 <span class="keywordtype">char</span> * <a class="code" href="group__rpmmacro.html#ga5d9a83318fc250d1fad8096c811754d4" title="Return (malloc&amp;#39;ed) concatenated macro expansion(s).">rpmExpand</a>        (<span class="keyword">const</span> <span class="keywordtype">char</span> * arg, ...) <a class="code" href="rpmutil_8h.html#ab20b5f4a77194dc7171b2311853db5cd">RPM_GNUC_NULL_TERMINATED</a>;
<a name="l00131"></a>00131 
<a name="l00139"></a>00139 <span class="keywordtype">int</span>     <a class="code" href="group__rpmmacro.html#ga4bb017f52f3bd9b8aae77772b0bc9ba8" title="Return macro expansion as a numeric value.">rpmExpandNumeric</a> (const <span class="keywordtype">char</span> * arg);
<a name="l00140"></a>00140 
<a name="l00150"></a>00150 const <span class="keywordtype">char</span> *<a class="code" href="group__rpmmacro.html#ga9c73e98a61c2046d87459d46beca3af8" title="Return rpm configuration base directory.">rpmConfigDir</a>(<span class="keywordtype">void</span>);
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>}
<a name="l00154"></a>00154 <span class="preprocessor">#endif</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span>
<a name="l00156"></a>00156 <span class="preprocessor">#endif  </span><span class="comment">/* _H_ MACRO_ */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2-20100208 </small></address>
</body>
</html>
